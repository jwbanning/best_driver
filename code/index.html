<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
    <title></title>

    <!-- JVECTOR -->
    <link rel="stylesheet" href="css/jquery-jvectormap-1.2.2.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/mapping.css" type="text/css" media="screen"/>
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen"/>


    <script src="js/jquery-1.9.1.js"></script>
    <script src="js/jquery-mousewheel.js"></script>
    <script src="http://jvectormap.com/js/jquery-jvectormap-1.2.2.min.js"></script>
    <script src="assets/jquery-jvectormap-us-aea-en.js"></script>

  <script>
    $(function(){
      var markers = [
            [61.18, -149.53],
            [21.18, -157.49],
            {latLng: [40.66, -73.56], name: 'New York City', style: {r: 8, fill: 'yellow'}},
            {latLng: [41.52, -87.37], style: {fill: 'red', r: 10}}
          ],
          values1 = [1, 2, 3, 4],
          values2 = [1, 2, 3, 4];

      var map = new jvm.WorldMap({
        container: $('.map'),
        map: 'us_aea_en',
        markers: markers,
        series: {
          markers: [{
            attribute: 'fill',
            scale: ['#C8EEFF', '#0071A4'],
            normalizeFunction: 'polynomial',
            values: values1
          },{
            attribute: 'r',
            scale: [5, 20],
            normalizeFunction: 'polynomial',
            values: values2
          }]
        },
        regionsSelectable: true,
        markersSelectable: true,
        markersSelectableOne: true,
        selectedRegions: JSON.parse( window.localStorage.getItem('jvectormap-selected-regions') || '[]' ),
        selectedMarkers: JSON.parse( window.localStorage.getItem('jvectormap-selected-markers') || '[]' ),

        onMarkerLabelShow: function(event, label, index){
          label.html(label.html()+' (modified marker)');
        },
        onMarkerOver: function(event, index){
          console.log('marker-over', index);
        },
        onMarkerOut: function(event, index){
          console.log('marker-out', index);
        },
        onMarkerClick: function(event, index){
          console.log('marker-click', index);
        },
        onMarkerSelected: function(event, index, isSelected, selectedMarkers){
          console.log('marker-select', index, isSelected, selectedMarkers);
          if (window.localStorage) {
            window.localStorage.setItem(
              'jvectormap-selected-markers',
              JSON.stringify(selectedMarkers)
            );
          }
        },

        onRegionLabelShow: function(event, label, code){
          label.html(label.html()+' (modified)');
        },
        onRegionOver: function(event, code){
          console.log('region-over', code, map.getRegionName(code));
        },
        onRegionOut: function(event, code){
          console.log('region-out', code);
        },
        onRegionClick: function(event, code){
          console.log('region-click', code);
        },
        onRegionSelected: function(event, code, isSelected, selectedRegions){
          console.log('region-select', code, isSelected, selectedRegions);
          if (window.localStorage) {
            window.localStorage.setItem(
              'jvectormap-selected-regions',
              JSON.stringify(selectedRegions)
            );
          }
        },
        onViewportChange: function(e, scale, transX, transY){
            console.log('viewportChange', scale, transX, transY);
        }
      });

    });
  </script>
<!-- JVECTOR -->
<!-- Tabs -->

    <script type="text/javascript">
    //<![CDATA[

    var tabLinks = new Array();
    var contentDivs = new Array();

    function init() {

      // Grab the tab links and content divs from the page
      var tabListItems = document.getElementById('tabs').childNodes;
      for ( var i = 0; i < tabListItems.length; i++ ) {
        if ( tabListItems[i].nodeName == "LI" ) {
          var tabLink = getFirstChildWithTagName( tabListItems[i], 'A' );
          var id = getHash( tabLink.getAttribute('href') );
          tabLinks[id] = tabLink;
          contentDivs[id] = document.getElementById( id );
        }
      }

      // Assign onclick events to the tab links, and
      // highlight the first tab
      var i = 0;

      for ( var id in tabLinks ) {
        tabLinks[id].onclick = showTab;
        tabLinks[id].onfocus = function() { this.blur() };
        if ( i == 0 ) tabLinks[id].className = 'selected';
        i++;
      }

      // Hide all content divs except the first
      var i = 0;

      for ( var id in contentDivs ) {
        if ( i != 0 ) contentDivs[id].className = 'tabContent hide';
        i++;
      }
    }

    function showTab() {
      var selectedId = getHash( this.getAttribute('href') );

      // Highlight the selected tab, and dim all others.
      // Also show the selected content div, and hide all others.
      for ( var id in contentDivs ) {
        if ( id == selectedId ) {
          tabLinks[id].className = 'selected';
          contentDivs[id].className = 'tabContent';
        } else {
          tabLinks[id].className = '';
          contentDivs[id].className = 'tabContent hide';
        }
      }

      // Stop the browser following the link
      return false;
    }

    function getFirstChildWithTagName( element, tagName ) {
      for ( var i = 0; i < element.childNodes.length; i++ ) {
        if ( element.childNodes[i].nodeName == tagName ) return element.childNodes[i];
      }
    }

    function getHash( url ) {
      var hashPos = url.lastIndexOf ( '#' );
      return url.substring( hashPos + 1 );
    }

    //]]>
    </script>
  </head>
  <body onload="init()">
    <div class="headerImageContainer">
      <h1>America's Best Driver Reports</h1>
    </div>
    <div class="mappingContainer">

      <ul id="tabs">
        <li class="selected tab" id="topCity"><div class="title">Top Cities</div>
          <div class="bottomColor"></div>
        </li><li class="tab" id="populated">
          <div class="title">Highly Populated Areas</div>
          <div class="bottomColor"></div>
        </li><li class="tab" id="density">
          <div class="title">High Density Areas</div>
          <div class="bottomColor"></div>
        </li><li class="tab" id="rainSnow">
          <div class="title">Rain and Snow</div>
          <div class="bottomColor"></div>
        </li><li class="tab" id="allConditions">
          <div class="title">All Conditions</div>
          <div class="bottomColor"></div>
        </li>
      </ul>

      <div class="tabContentContainer">
<!-- Top Cities -->
        <div class="tabContent" id="advantages">
          <div class="tabContentMap">
                        
            <div class="map" style="">
              
            </div>


          </div>
          <div class="tabContentOther">
            <div class="header">
              <div class="headingContainer">
                <h4 class="year">2014</h4>
                <h3 class="title">Top Cities</h3>
              </div>
              <div class="">Explore the cities with the fewest auto collisions.</div>
            </div>
            <div class="toplistings">
              <ul>
                <li>Eugene, OR</li>
                <li>Austin, TX</li>
                <li>Springfield, MO</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
                <li>Boise, ID</li>
              </ul>
            </div>
          </div>
        </div>
        
<!-- Populate Areas -->
        <div class="tabContent hide" id="advantages">
          <div class="tabContentMap" style="width:75%;">
            THERE IS A MAP HERE
          </div>
          <div class="tabContentOther" style="width:25%;">
            <div class="header">

            </div>
            <div class="toplistings">
              <ul>
                <li>Eugene, OR</li>
                <li>Austin, TX</li>
                <li>Springfield, MO</li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </div>
        </div>
<!-- High Density -->
        <div class="tabContent hide" id="advantages">
          <div class="tabContentMap" style="width:75%;">
            THERE IS A MAP HERE
          </div>
          <div class="tabContentOther" style="width:25%;">
            <div class="header">

            </div>
            <div class="toplistings">
              <ul>
                <li>Eugene, OR</li>
                <li>Austin, TX</li>
                <li>Springfield, MO</li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </div>
        </div>
<!-- Rain Snow -->
        <div class="tabContent hide" id="advantages">
          <div class="tabContentMap" style="width:75%;">
            THERE IS A MAP HERE
          </div>
          <div class="tabContentOther" style="width:25%;">
            <div class="header">

            </div>
            <div class="toplistings">
              <ul>
                <li>Eugene, OR</li>
                <li>Austin, TX</li>
                <li>Springfield, MO</li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </div>
        </div>
<!-- All Conditions -->
        <div class="tabContent hide" id="advantages">
          <div class="tabContentMap" style="width:75%;">
            THERE IS A MAP HERE
          </div>
          <div class="tabContentOther" style="width:25%;">
            <div class="header">

            </div>
            <div class="toplistings">
              <ul>
                <li>Eugene, OR</li>
                <li>Austin, TX</li>
                <li>Springfield, MO</li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>










